<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connections Map | Reform Docs</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@400;600;700&family=Playfair+Display:wght@900&display=swap');
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Source Sans 3', sans-serif;
            background: #0d1117;
            color: #e6edf3;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        header {
            border-top: 5px solid #cc0000;
            padding: 12px 24px;
            background: #161b22;
            border-bottom: 1px solid #30363d;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-shrink: 0;
        }
        .site-name {
            font-family: 'Playfair Display', serif;
            font-size: 1.2em;
            font-weight: 900;
            color: #ffffff;
            text-decoration: none;
        }
        .header-right { display: flex; align-items: center; gap: 24px; }
        .legend { display: flex; gap: 16px; font-size: 0.78em; color: #8b949e; }
        .legend-item { display: flex; align-items: center; gap: 5px; }
        .legend-dot { width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0; }
        header a { color: #8b949e; text-decoration: none; font-size: 0.82em; }
        header a:hover { color: #ffffff; }
        #graph-container { flex: 1; position: relative; }
        #graph { width: 100%; height: 100%; }
        #info-panel {
            position: absolute;
            top: 16px; right: 16px;
            width: 280px;
            background: #161b22;
            border: 1px solid #30363d;
            border-top: 3px solid #cc0000;
            border-radius: 2px;
            padding: 16px;
            display: none;
            z-index: 10;
        }
        #info-panel h2 {
            font-size: 1em;
            color: #ffffff;
            margin-bottom: 2px;
        }
        #info-type {
            font-size: 0.75em;
            color: #8b949e;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 0.06em;
        }
        #info-articles { list-style: none; }
        #info-articles li { margin-bottom: 6px; border-bottom: 1px solid #21262d; padding-bottom: 6px; }
        #info-articles a { color: #0000cc; text-decoration: underline; font-size: 0.85em; line-height: 1.4; }
        #info-articles a:hover { color: #cc0000; }
        #info-close {
            position: absolute; top: 10px; right: 12px;
            cursor: pointer; background: none; border: none;
            color: #8b949e; font-size: 1.1em;
        }
        #info-close:hover { color: #cc0000; }
        footer {
            padding: 8px 24px;
            background: #161b22;
            border-top: 1px solid #30363d;
            font-size: 0.75em;
            color: #484f58;
            display: flex;
            gap: 24px;
        }
    </style>
</head>
<body>
<header>
    <a href="../index.html" class="site-name">Reform Docs</a>
    <div class="header-right">
        <div class="legend">
            <div class="legend-item"><div class="legend-dot" style="background:#cc0000"></div>Person</div>
            <div class="legend-item"><div class="legend-dot" style="background:#0000cc"></div>Company / Org</div>
            <div class="legend-item"><div class="legend-dot" style="background:#228833"></div>Government</div>
            <div class="legend-item"><div class="legend-dot" style="background:#cc8800"></div>Other</div>
        </div>
        <a href="../index.html">Back to Index</a>
    </div>
</header>
<div id="graph-container">
    <div id="graph"></div>
    <div id="info-panel">
        <button id="info-close" onclick="closePanel()">&#x2715;</button>
        <h2 id="info-name"></h2>
        <div id="info-type"></div>
        <ul id="info-articles"></ul>
    </div>
</div>
<footer>
    <span>Updated: February 13, 2026</span>
    <span>7 entities</span>
    <span>7 connections</span>
    <span>1 articles</span>
    <span>Click any node to see related articles</span>
</footer>
<script>
const GRAPH_DATA = {"nodes": [{"id": 0, "label": "Karl Malenfant", "type": "person", "articles": [{"title": "SAAQclic: The Gallant Report and What Comes Next", "path": "canada/quebec/saaqclic/saaqclic-gallant-report.html"}], "article_count": 1}, {"id": 1, "label": "Denis Gallant", "type": "person", "articles": [{"title": "SAAQclic: The Gallant Report and What Comes Next", "path": "canada/quebec/saaqclic/saaqclic-gallant-report.html"}], "article_count": 1}, {"id": 2, "label": "SAAQ", "type": "government", "articles": [{"title": "SAAQclic: The Gallant Report and What Comes Next", "path": "canada/quebec/saaqclic/saaqclic-gallant-report.html"}], "article_count": 1}, {"id": 3, "label": "IBM/LGS", "type": "company", "articles": [{"title": "SAAQclic: The Gallant Report and What Comes Next", "path": "canada/quebec/saaqclic/saaqclic-gallant-report.html"}], "article_count": 1}, {"id": 4, "label": "UPAC", "type": "government", "articles": [{"title": "SAAQclic: The Gallant Report and What Comes Next", "path": "canada/quebec/saaqclic/saaqclic-gallant-report.html"}], "article_count": 1}, {"id": 5, "label": "Francois Dagenais", "type": "person", "articles": [{"title": "SAAQclic: The Gallant Report and What Comes Next", "path": "canada/quebec/saaqclic/saaqclic-gallant-report.html"}], "article_count": 1}, {"id": 6, "label": "CAQ Government", "type": "government", "articles": [{"title": "SAAQclic: The Gallant Report and What Comes Next", "path": "canada/quebec/saaqclic/saaqclic-gallant-report.html"}], "article_count": 1}], "edges": [{"from": 0, "to": 2, "weight": 1}, {"from": 3, "to": 0, "weight": 1}, {"from": 3, "to": 2, "weight": 1}, {"from": 5, "to": 4, "weight": 1}, {"from": 5, "to": 2, "weight": 1}, {"from": 1, "to": 2, "weight": 1}, {"from": 6, "to": 2, "weight": 1}]};
const TYPE_COLORS = {
    person:     { background:"#cc0000", border:"#990000", highlight:{background:"#ff3333",border:"#cc0000"} },
    company:    { background:"#0000cc", border:"#000099", highlight:{background:"#3333ff",border:"#0000cc"} },
    government: { background:"#228833", border:"#1a6625", highlight:{background:"#33aa44",border:"#228833"} },
    other:      { background:"#cc8800", border:"#996600", highlight:{background:"#ffaa00",border:"#cc8800"} }
};
const nodes = new vis.DataSet(
    GRAPH_DATA.nodes.map(n => ({
        id: n.id, label: n.label,
        color: TYPE_COLORS[n.type] || TYPE_COLORS.other,
        font: { color:"#e6edf3", size:12, face:"Source Sans 3, sans-serif" },
        borderWidth: 2,
        size: Math.min(10 + (n.article_count * 7), 42),
        title: n.label
    }))
);
const edges = new vis.DataSet(
    GRAPH_DATA.edges.map(e => ({
        from:e.from, to:e.to,
        width: Math.min(1 + e.weight, 6),
        color:{ color:"#30363d", highlight:"#cc0000", opacity:0.8 },
        smooth:{ type:"curvedCW", roundness:0.1 }
    }))
);
const network = new vis.Network(
    document.getElementById("graph"),
    { nodes, edges },
    {
        physics:{ stabilization:{iterations:150}, barnesHut:{ gravitationalConstant:-3000, centralGravity:0.3, springLength:180, springConstant:0.04, damping:0.2 } },
        interaction:{ hover:true, tooltipDelay:200, zoomView:true, dragView:true },
        nodes:{ shape:"dot" },
        edges:{ arrows:{ to:{ enabled:false } } }
    }
);
network.on("click", function(p) {
    if (p.nodes.length > 0) {
        const node = GRAPH_DATA.nodes.find(n => n.id === p.nodes[0]);
        if (node) showPanel(node);
    } else { closePanel(); }
});
function showPanel(node) {
    document.getElementById("info-name").textContent = node.label;
    document.getElementById("info-type").textContent = node.type;
    const ul = document.getElementById("info-articles");
    ul.innerHTML = "";
    node.articles.forEach(a => {
        const li = document.createElement("li");
        const link = document.createElement("a");
        link.href = "../" + a.path;
        link.textContent = a.title;
        li.appendChild(link);
        ul.appendChild(li);
    });
    document.getElementById("info-panel").style.display = "block";
}
function closePanel() {
    document.getElementById("info-panel").style.display = "none";
}
</script>
</body>
</html>